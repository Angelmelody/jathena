--------------------
//0946 by Kalen
・プロ北Warp見直し
参考：本鯖(1F,2F)らぐなの何か(3F)
	(conf/warp/)
	npc_warp.txt

・語り部の2週3週追加(どうせ見ないと思いますが…)
	(conf/npc/)
	npc_event_kataribe.txt

--------------------
//0945 by 胡蝶蘭

・NPCタイマーラベルデータが正しくインポートされない問題を修正
・NPCタイマー初期値やタイマーIDが正しく初期化されない問題を修正
・NPCのduplicateを行うとアクセス違反が起こる場合がある問題を修正

	(map/)
	npc.c
		npc_parse_script修正

・パッチアップスレ４の87のpc.cとりこみ
	(map/)
	pc.c
		カード重量制限を元に戻したもの

--------------------
//0944 by huge
・ギルドの上納経験値の上限を、confで制限できるように。
・露店の販売価格を10Mまでに制限。
・カートの重量制限が一桁下がってたんですが、ウチだけですか？修正してみましたが。

	(conf/)
	battle_athena.conf
		guild_exp_limit追加
	(doc/)
	conf_ref.txt 修正
	(map/)
	atcommand.c
		蘇生時のSP回復で、細かい修正。
	battle.c
		battle_config_read() 修正
	battle.h 修正。
	guild.c
		guild_change_position() 修正。
	pc.c
		pc_calcstatus() 修正。
	vending.c
		vending_openvending() 修正。

--------------------
//0943 by (凸)
・battle_athena.confでdead_branch_activeをyesにすると古木の枝で召喚されるモンスターがアクティブになるように変更
・微妙に変更したclient_packet.txtを同梱

	(conf/)
	battle_athena.conf
		dead_branch_active追加
	(doc/)
	client_packet.txt 修正
	conf_ref.txt 修正
	(map/)
	battle.c
		battle_config_read() 修正
	battle.h 修正
	map.h 修正
	mob.c
		mob_once_spawn() 修正
		mob_attack() 修正
		mob_target() 修正
		mob_ai_sub_hard_lootsearch() 修正
		mob_ai_sub_hard() 修正
		
・英語スレのkingboさんの変更を同梱
	code by kingbo 2004/4/16 PM 09:47

	support guildcastle guardian
	maybe still have problems..need to try
	Good Luck Q^^Q
	P.S: sorry my poor english ^^a

	(map/)
	mob.c
		mob_can_reach() fix
	battle.c
		battle_calc_damage() fix

	(conf/gvg/)
		prtg_cas01_guardian.txt

--------------------
//0942 by 胡蝶蘭

・アクセスコントロールで不正なメモリにアクセスする場合があるバグを修正
	(login/)
	login.c
		check_ipmask()修正

・スクリプトリファレンス少し追加と修正
	(doc/)
	script_ref.txt
		修正

--------------------
//0941 by (凸)

・e2さんの報告を元に召喚された手下のスピードを召喚主と同じにしてみる

	(map/)
	battle.c
		battle_get_speed() 修正
	mob.c
		mob_spawn() 修正
		mob_summonslave() 修正

--------------------
//0940 by End_of_exam

・ヒールやポーションピッチャーを使用しても回復しないバグを修正(0938〜)。

　Thanks for Pepermint, reporting the bug that using PotionPitcher with
　BluePotion was no effective.
　（＝ポーションピッチャー＋青Ｐで効果がない事を報告してくれたPepermint氏に感謝）

	(map/)
	battle.c
		battle_heal() 修正

--------------------
//0939 by (凸)
・cutinパケットを0x145(ファイル名16文字)から0x1b3(64文字)に変更
・ついでに雑談スレに上げたathena-startを同梱

	(/)
	athena-start saveファイルが無いときに作るように
	(map/)
	clif.c
		clif_cutin() 本鯖パケット準拠に変更
	(doc/)
	client_packet.txt 修正

--------------------
//0938 by ぴざまん

・ポーションピッチャーで青ポを投げてもエフェクトだけだったバグ修正。
・露店開設が特定のアイテム配置で失敗するバグ修正。
・スクリプト関数getareadropitem実装。
　指定エリア内のドロップアイテムをカウントする関数です

　書式：getareadropitem <mapname>,<x0>,<y0>,<x1>,<y1>,<item>;
　　mapname：対象マップ名(例：prontera.gat)
　　x0とx1：対象X座標範囲
　　y0とy1：対象Y座標範囲
　　item：カウントする対象アイテム

　戻り値：mapname内座標(x0,y0)-(x1,y1)の範囲内に落ちているitemの総個数
　　　　　取得失敗時には-1を返します。
　・itemの値はIDでもアイテム名("Red_Jemstone"とか)でもいいです。

	(map/)
	battle.c
		battle_heal() 修正。
	vending.c
		vending_openvending() 修正。
	script.c
		ローカルプロトタイプ宣言修正。
		struct buildin_func[] 修正。
		buildin_getareadropitem()、buildin_getareadropitem_sub() 追加。

--------------------
//0937 by netwarrior

- Fix Japanese remarks problem in 0936
- Fix minor problem in battle_heal()

--------------------
//0936 by Pepermint

Retouch about problem of increase in quantity at the CART,
when enter the an minus quantity in the CLIENT.

Retouch about problem of not recovery,use POTIONPITCHER skill.

	(map/)
	battle.c
		battle_heal()

	vending.c
		vending_purchasereq()

--------------------
//0935 by 胡蝶蘭

・内容の同じスクリプトNPCを何度も記述しなくても言いように修正
	・NPC定義の"script"と書く部分を"duplicate(NPC名)"とすると、
	  該当のNPCとスクリプトを共有するように。NPC名は表示名ではなく
	  エクスポートされる名前を指定します。
	  <例>
prontera.gat,165,195,1	duplicate(カプラ職員)	カプラ職員2	112

	・共有元のNPCは同じマップサーバーに存在する必要があるため、
	  同じマップでない場合はduplicateすべきではない。
	  ただし、NPCの位置を"-"にすることで、マップ上には存在しないが、
	  マップサーバー内には存在するNPCを作成できるので、
	  そのNPCを共有元にするのであればどのマップへも共有できる。
	  <例>

-	script	テスト::test1	112,{	// このNPCグラフィックIDは使用しない
//	(略)
}
prontera.gat,165,195,1	duplicate(test1)	テスト2	112
geffen.gat,99,99,1	duplicate(test1)	テスト3	112

	・上のマップに存在しないNPCはイベントにもすることができる。
	  （どのマップサーバーからでも必ず呼び出せるイベントになる）

	(map/)
	map.h
		struct npc_label_list追加,struct npc_data修正
	npc.c
		npc_parse_script()修正
		不要になったラベルデータベース関連の関数を削除

--------------------
//0934 by ぴざまん

・MOBの状態異常耐性がやたら高かったのを修正。
・速度減少の仕様変更(成功率計算式変更・失敗時にはエフェクト無し)。
・何時の間にか状態異常の継ぎ足し禁止がコメントアウトされていたので戻し。
・ポイズンリアクトのアイコン表示が無くなっていたので修正(でも出るだけ…)
・白刃取り実装。

	(map/)
	battle.c
		battle_weapon_attack() 修正。
	clif.c
		clif_parse_WalkToXY()、clif_parse_ActionRequest() 修正。
		clif_parse_TakeItem()、clif_parse_UseItem() 修正。
		clif_parse_DropItem()、clif_parse_EquipItem() 修正。
		clif_parse_UnequipItem() 修正。
	mob.c
		mob_can_move()、mob_attack()、mob_ai_sub_hard() 修正。
		mobskill_use_id()、mobskill_use_pos() 修正。
		mobskill_castend_id()、mobskill_castend_pos() 修正。
	pc.c
		pc_attack_timer()、pc_setpos() 修正。
	skill.c
		SkillStatusChangeTable[] 修正。
		skill_additional_effect()、skill_castend_damage_id() 修正。
		skill_castend_nodamage_id()、skill_check_condition() 修正。
		skill_status_change_start()、skill_status_change_end() 修正。
		skill_use_id() 修正。
	skill.h 修正。
	(db/)
	cast_db.txt 修正。

--------------------
//0933 by 胡蝶蘭

・ウィザード転職所NPC仮実装
	・eathenaのデータの翻訳、および某所の昔のデータを元に作ったので
	  癌鯖とは微妙に異なってると思います。
	  「古い巻物」とか使えませんし。
	・現行のjob_2nd.txtと一緒に読み込むと、NPCが重なるので、
	  job_2nd.txtの該当スクリプトをコメント化してください。
	  ただし、その場合はセージに転職させてもらえないので注意してください。
	
	(conf/npc/)
	npc_job_wizard.txt
		追加
	(conf/warp/)
	npc_warp_job.txt
		ウィザード転職所のワープをコメント化

・バグ修正
	・gotoやmenuでラベルが見つからないときスクリプトの実行を中断するように.
	・１回のスクリプトの実行において、実行命令数が約8000を超えるか、
	  gotoやmenuの実行回数が約500回を超えると実行を中断するように。
	・関数/命令実行時にもエラーチェックを入れた
	・ギルド/パーティ/ペットの名前に日本語が使えない問題修正


	(char/)
	int_guild.c/int_party.c
		名前問題修正
	(map/)
	pet.c
		名前問題修正
	script.c
		修正

--------------------
//0932 by End_of_exam

・0930でギルド倉庫の中身が消えるバグを修正。

	(char/)
	int_storage.c guild_storage_tostr() 修正。

--------------------
//0931 by (凸)
・サーバーsnapshot
・AthenaDB計画から更新のあった物を反映
・atcommand_athena.confにstr等を追加
・ワープポータルの本鯖相違点を修正
・霧さんのaldeg_cas03〜05を同梱
・pさんのnpc_event_kataribe.txt同梱
・KAJIKENさんのnpc_warp_louyang.txt同梱

	(db/)
	item_db.txt 変更
	(conf/)
	atcommand_athena.conf 変更
	map_athena.conf 変更
	(conf/gvg/)
	aldeg_cas03.txt 変更
	aldeg_cas04.txt 変更
	aldeg_cas05.txt 変更
	(conf/mob/)
	npc_monster.txt 変更
	(conf/npc/)
	npc_event_kataribe.txt 追加
	(conf/warp/)
	npc_warp_louyang.txt 追加
	(map/)
	pc.c pc_memo() 変更

--------------------

//0930以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. このリリースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責事項
8. 募集
9. English


1. アテナについて
    アテナとは2003年1月半ばにでた0052.lzhをベースとして作られているエミュレータの一つです。
    基本的なライセンスはオリジナルがGPLの下に配布されている為、
    これに従いGPLの下配布を許可します。
    /*
        改良版を配布する場合は必ずこのREADMEを書き換えてください。
        何処を改良したのか報告(athena@project-yare.deまで)して貰えると助かります。
        バイナリのみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く事を保証するものでありません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. このリリースについて
    今回のリリースは前回(V2.1)同様開発版のリリースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォルト設定が韓国data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く推奨するものではありませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に応じて
    account.txt   //存在しない場合athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類あります
    conf/npc*.txt //npc設定用ファイルです。複数のファイルに分けることが可能です。
    db/*.txt      //アイテム、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の部分を環境に合わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイルで行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスクリプトの書き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スクリプトを弄りたい方は参考にしてください。
    ただし、開発中のためスクリプトの仕様が変更される可能性が高いです。
    command.txtには実装済みの特殊コマンドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポリンがアイテムを拾わないなど)点は、
    全て現在開発中に因るものです。
    現状としてキャラクタ系及びモンスター系のバグ報告は無視される可能性が高いです。

    バグ報告について必ず発生条件をお書き下さい。
    下にある報告用テンプレートを使って報告して頂くと助かります。
    報告先はエミュ板の開発スレにでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行時に表示される内容
    【動作システム】FreeBSD, Linux(ディストリビュージョンも), cygwinなど
    【発生内容】mapが落ちてしまった時の表示されていたデバッグ情報など具体的に書いてください。
    【操作内容】具体的にどんな操作を行ったかを書いてください。
    ------------------ END -------------------
    理想はテンプレに加えてmap.coreなどcoreファイルをUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に注意してください。
    /*
        確認した限りでは324個ほどmapデータを読み込ませると、
         40MB近いcoreファイルを吐き出します @FreeBSD
         cygwinの場合はstackdumpというファイルになるそうです。
        しかし、coreファイルなどをgzip圧縮などすれば大幅に小さくなります。
         大凡30MBのcoreファイルが2.9MBほどになるようです。
        ですので、もしアップロードする場合はgzip圧縮など各自行ってください。
     */

    今回のリリースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本当に結構ありますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに当たって感謝したい方々(順番不同)
        Lemming氏 (Project YARE)
        0052氏 (Uploader)
        35氏 (エミュ開発スレ)
        Johan Lindh氏(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研究会BBSの様々な情報ファイルを作成した方々
        最後に、.coreファイル達


7. 免責事項
    Athena Projectは一切Athenaの動作に関する保証等は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・操作等に関する質問などを送られても一切お答えできません。
    又Athenaを用いたことにより生じた被害・問題等の責任は一切Athena Projectは負いません。


8. 募集
    athenaの開発に参加したい//興味があるという方ご連絡下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要項: プログラマ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が理解可能
        内容: C言語もしくはC++による開発。(特にネットワークやDBの経験が有る方大募集!)
    [募集要項: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が理解可能
        内容: 仏蘭西語、独逸語、西班牙語、伊太利亜語、泰(タイ)語、朝鮮語、中国語へ文献、サイトなどの翻訳
    連絡先: athena@project-yare.de 雑務担当まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.

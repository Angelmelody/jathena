--------------------
//0919 by RR
・atcommandのlvupを使うと取得ステータスポイントがおかしい問題の修正
・バグ修正(バグ報告スレで修正の出たものの取り込み　胡蝶蘭さん、pさん、共にお疲れ様です)
	(map/)
	atcommand.c
		atcommand_baselevelup()修正
	guild.c
		guild_gvg_eliminate_timer()修正
	pc.c
		pc_setreg(),pc_setregstr()修正

--------------------
//0918 by 聖
・item_db自体がオーバーライド可能になったので、class_equip_db.txtの廃止。
・pet_db.txt、produce_db.txtもオーバーライド可能に修正。
	(map/)
	itemdb.c
		do_init_itemdb() 修正。
	pet.c
		read_petdb() 修正。
	skill.c
		skill_readdb() 修正。

--------------------
//0917 by RR
・スクリプト修正
	桃太郎イベントと闘技場イベントをNPCタイマーに変更
	(conf/npc/)
	npc_event_momotarou.txt
	npc_event_tougijou.txt 修正
・スキルツリー修正(バグ報告スレ25より)
	(db/)
	skill_db.txt 修正

--------------------
//0916 by (凸)
・npc_monsterにnpc_mob_jobを統合。npc_mob_job.txtは削除してかまいません

	(conf/)
	map_athena.conf npc_mob_jobを削除
	(conf/mob/)
	npc_monster.txt 更新

--------------------
//0915 by 胡蝶蘭

・NPCタイマー関係の命令追加＆修正他
	・delwaitingroom（NPCチャット終了）引数を見てなかったので修正
	・initnpctimer（NPCタイマー初期化）追加
	・stopnpctimer（NPCタイマー停止）追加
	・startnpctimer（NPCタイマー開始）追加
	・getnpctimer（NPCタイマー情報所得）追加
	・setnpctimer（NPCタイマー値設定）追加

	既存のaddtimerなどはプレイヤー単位のため、NPC単位のタイマーを作りました。
	こちらは、addtimerなどとは違い、OnTimerXXXという風にラベルを指定します。
	詳しくはサンプルとscrit_ref.txtを参照。
	
	(map/)
	map.h
		struct npc_data 修正、struct npc_timerevent_list追加
	npc.c / npc.h
		npc_timerevent(),npc_timerevent_start(),npc_timerevent_stop(),
		npc_gettimerevent_tick(),npc_settimerevent_tick()追加
		npc_parse_script()修正
	script.c
		buildin_*npctimer()追加など
	(conf/sample/)
	npc_test_npctimer.txt
		NPCタイマー使用サンプル
	(doc/)
	script_ref.txt
		NPCタイマー関係の命令/関数追加、定数ラベルの説明修正

・Sageのアーススパイクの所得条件修正
	(db/)
	skill_tree.txt
		アーススパイクの行（サイズミックウェポンをLv1に）

--------------------
//0914 by p
・範囲スキル使用時に解放済みメモリを参照していた問題に対応
・メモリを初期化せずに使用していた領域を、初期化してから使用するように変更
	(common/)
	db.c
	grfio.c
	socket.c
	timer.c
	(char/)
	char.c
	int_guild.c
	int_party.c
	int_pet.c
	int_storage.c
	inter.c
	(login/)
	login.c
	(map/)
	ほとんど.c

--------------------
//0913 by Kalen

・GVGScriptの修正
　911対応
　フラグからアジトへ戻る機能追加
　戻るときに聞かれるように修正(TESTscript)
　砦取得時::OnRecvCastleXXXを発動するように修正
	(conf/gvg/)
	ほとんど.txt

--------------------
//0912 by (凸)
・このファイルの文字化けとTEST_prtg_cas01_AbraiJの文字化けを修正
・バグ報告スレの>>19-20を取り込み
・昔やっちまったbattle_athena.confの誤字の訂正

	(common)
	mmo.h
		#define MAX_STAR 3に修正
	(conf)
	battle_athena.conf
	(conf/gvg/)
	TEST_prtg_cas01_AbraiJ.txt
	(map)
	atcommand.c
		get_atcommandinfo_byname() 修正


--------------------
//0911 by Michael_Huang

	Mounting Emblem of the Flag-NPC.
	(Added Script Command: FlagEmblem).

(conf/gvg/)
	TEST_prtg_cas01_AbraiJ.txt (FlagEmblem Test)

	(map/)
	map.h struct npc_data{}
	clif.c clif_npc0078()
	script.c buildin_flagemblem()

--------------------
//0910 by RR
・スクリプトの間違いを修正
(conf/gvg/)
	ev_agit_payg.txt
	ev_agit_gefg.txt

・ひな祭りに一度入ったらマップ変数が残ったままになるので、マップ変数を使わないよう変更
(一時的マップ変数にすれば問題ないとも言えますが、
town_guideとtown_kafraに時期限定の物が常駐してしまうのが気になったので、
それらをevent_hinamatsuriへ移動し、普段のをdisableしています)
	(conf/npc/)
	npc_event_hinamatsuri
	npc_town_guide
	npc_town_kafra

・スキルリセット時のスキル取得制限判定をスキルポイント48以上消費から、
	スキルポイント58以上消費か残りスキルポイントがJOBLEVELより小さくなったときに変更
・@model時の服色染色制限を緩和(男アサ、ローグのみへ)
	(map/)
	pc.c pc_calc_skilltree()
	atcommand.c atcommand_model()


--------------------
//0909 by 胡蝶蘭

・NPCチャット関係の命令追加
	・waitingroom（NPCチャット作成）修正（イベントを起こす人数を指定可能）
	・delwaitingroom（NPCチャット終了）追加
	・enablewaitingroomevent（NPCチャットイベント有効化）追加
	・disablewaitingroomevent（NPCチャットイベント無効化）追加
	・getwaitingroomstate（NPCチャット状態所得）追加
	・warpwaitingpc（NPCチャットメンバーワープ）修正
	詳しくはscript_ref.txtを参照

	(map/)
	script.c/npc.c/npc.h/chat.c/chat.h/clif.c
		多々修正
	(doc/)
	script_ref.txt
		修正
	(conf/sample/)
	npc_test_chat.txt
		追加命令のテストスクリプト

・スクリプトの間違いを修正
	(conf/npc/)
	npc_event_skillget.txt
	npc_event_yuno.txt
	npc_town_lutie.txt
	npc_turtle.txt
		謎命令additemをgetitemに置換
	npc_town_guide.txt
		謎命令scriptlabelをコメント化
	npc_event_momotaro.txt
	npc_job_swordman.txt
	npc_job_magician.txt
		';'付け忘れ修正
	(conf/gvg/)
	ev_agit_aldeg.txt
		@GID4を@GIDa4に置換
	ev_agit_gefg.txt
	ev_agit_payg.txt
		Annouceに色指定と';'の付け忘れを習性
	

・AthenaDB計画のデータとりこみ、その他修正
	安定しているデータかどうかわかりませんが。

	(db/)
	item_db.txt/mob_db.txt/mob_skill_db.txt
		AthenaDB計画のデータとりこみ
	mob_skill_db.txt.orig
		以前のデータ（コメント部分などの参考に）
	(conf/)
	water_height.txt/mapflag.txt
		AthenaDB計画のデータとりこみ
	map_athena.conf
		npc_monster3*.txtを削除
		追加マップデータ (by ID:UVsq5AE)
	(conf/mob/)
	npc_monster.txt
		AthenaDB計画のデータとりこみ

--------------------
//0908 by 胡蝶蘭

・スクリプトのエラーチェック処理を増やした
	・文字列の途中で改行があるとエラーを出すように。
	・関数呼び出し演算子'('の直前に関数名以外があるとエラーを出すように。
	・命令があるべきところに関数名以外があるとエラーを出すように。
	・命令および関数の引数区切りの','を省略すると警告を出すように。
	・命令および関数の引数の数が異なると警告を出すように。

	(map/)
	script.c
		色々修正

・NPCスクリプト修正
	(conf/npc/)
	npc_town_guide.txt
		４行目はいらないようなのでエラーが出ないようにコメント化
	npc_event_hat.txt
		コモドの仮面職人とフェイヨンの青年 (by ID:dS8kRnc)
	(conf/sample/)
	npc_card_remover.txt
		@menuを使って短くした＆文章少し修正

・その他
	(db/)
	skill_tree.txt
		Sage応急手当

--------------------
//0907 by p
・atcommand() の肥大化がひどいのでリファクタリング
  @ コマンドを追加する場合は、atcommand.h 内で定数を、atcommand.c 内で
  関数定義マクロとマッピングテーブル、処理用の関数を記述してください。
・global 変数の atcommand_config を消去。
  @ コマンド毎のレベルは get_atcommand_level() で取得してください。
・一部のキャラ名を取る @ コマンドで、半角スペースを含む名前のキャラを
  正常に処理できていなかった問題を修正。
  この影響により、@rura+ など、キャラ名がパラメータの途中にあったものは
  全て最後に回されています。
・@ コマンドの文字列を正常に取得できなかった場合に、バッファの内容を
  チェックせずに処理を行おうとしていた部分を修正しました。

	(common/)
	mmo.h
	(map/)
	atcommand.h
	atcommand.c
	clif.h
	clif.c

--------------------
//0906 by Selena
・胡蝶蘭さんの修正にあわせて、バルキリーレルム１以外のスクリプトの修正。
・@コマンド入力ミスの際にエラーメッセージを表示。
	(conf/gvg/)
	ev_agit_aldeg.txt
	ev_agit_gefg.txt
	ev_agit_payg.txt
	ev_agit_prtg.txt
	aldeg_cas01〜05.txt
	gefg_cas01〜05.txt
	payg_cas01〜05.txt
	prtg_cas02〜05.txt
	(map/)
	atcommand.c

--------------------
//0905 by 管理人

・サーバーsnapshot
・前スレのファイル取り忘れた人がいるかもしれないので

--------------------

//0904以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. このリリースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責事項
8. 募集
9. English


1. アテナについて
    アテナとは2003年1月半ばにでた0052.lzhをベースとして作られているエミュレータの一つです。
    基本的なライセンスはオリジナルがGPLの下に配布されている為、
    これに従いGPLの下配布を許可します。
    /*
        改良版を配布する場合は必ずこのREADMEを書き換えてください。
        何処を改良したのか報告(athena@project-yare.deまで)して貰えると助かります。
        バイナリのみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く事を保証するものでありません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. このリリースについて
    今回のリリースは前回(V2.1)同様開発版のリリースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォルト設定が韓国data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く推奨するものではありませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に応じて
    account.txt   //存在しない場合athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類あります
    conf/npc*.txt //npc設定用ファイルです。複数のファイルに分けることが可能です。
    db/*.txt      //アイテム、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の部分を環境に合わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイルで行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスクリプトの書き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スクリプトを弄りたい方は参考にしてください。
    ただし、開発中のためスクリプトの仕様が変更される可能性が高いです。
    command.txtには実装済みの特殊コマンドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポリンがアイテムを拾わないなど)点は、
    全て現在開発中に因るものです。
    現状としてキャラクタ系及びモンスター系のバグ報告は無視される可能性が高いです。

    バグ報告について必ず発生条件をお書き下さい。
    下にある報告用テンプレートを使って報告して頂くと助かります。
    報告先はエミュ板の開発スレにでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行時に表示される内容
    【動作システム】FreeBSD, Linux(ディストリビュージョンも), cygwinなど
    【発生内容】mapが落ちてしまった時の表示されていたデバッグ情報など具体的に書いてください。
    【操作内容】具体的にどんな操作を行ったかを書いてください。
    ------------------ END -------------------
    理想はテンプレに加えてmap.coreなどcoreファイルをUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に注意してください。
    /*
        確認した限りでは324個ほどmapデータを読み込ませると、
         40MB近いcoreファイルを吐き出します @FreeBSD
         cygwinの場合はstackdumpというファイルになるそうです。
        しかし、coreファイルなどをgzip圧縮などすれば大幅に小さくなります。
         大凡30MBのcoreファイルが2.9MBほどになるようです。
        ですので、もしアップロードする場合はgzip圧縮など各自行ってください。
     */

    今回のリリースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本当に結構ありますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに当たって感謝したい方々(順番不同)
        Lemming氏 (Project YARE)
        0052氏 (Uploader)
        35氏 (エミュ開発スレ)
        Johan Lindh氏(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研究会BBSの様々な情報ファイルを作成した方々
        最後に、.coreファイル達


7. 免責事項
    Athena Projectは一切Athenaの動作に関する保証等は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・操作等に関する質問などを送られても一切お答えできません。
    又Athenaを用いたことにより生じた被害・問題等の責任は一切Athena Projectは負いません。


8. 募集
    athenaの開発に参加したい//興味があるという方ご連絡下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要項: プログラマ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が理解可能
        内容: C言語もしくはC++による開発。(特にネットワークやDBの経験が有る方大募集!)
    [募集要項: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が理解可能
        内容: 仏蘭西語、独逸語、西班牙語、伊太利亜語、泰(タイ)語、朝鮮語、中国語へ文献、サイトなどの翻訳
    連絡先: athena@project-yare.de 雑務担当まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.

--------------------
//0980 by (凸)
・例によって転生スキルとモンク関連
	スナイパー シャープシューティング クリティカル率調整？
	ハイウィザード ソウルドレイン MSP増量とMobを倒したときにSP(mobLv*(65+15*SkillLv)/100)回復。でも本当は範囲攻撃の場合は回復しないらしい？
	ハイウィザード 魔法力増幅 使ったらMATKがSkillLv%増量。次のスキル使用時に元に戻る
	モンク 気奪 ちょっと先取りして20%の確率で敵のLv*2のSPを吸収。成功したときはターゲットを取得するようにしてみた
・アイテム名をjROウンバラに準拠させてみたつもり

	(db/)
	cast_db.txt
	item_db.txt
	(map/)
	battle.c
		battle_calc_pc_weapon_attack() 変更
	mob.c
		mob_damage() 変更
	pc.c
		pc_calcstatus() 変更
	skill.c
		skill_castend_nodamage_id() 変更
		skill_use_id() 変更
		skill_use_pos() 変更
		skill_status_change_end() 変更
		skill_status_change_timer() 変更
		skill_status_change_start() 変更

--------------------
//0979 by (凸)
・転生スキルをちょっと調整
	ハイウィザード マジッククラッシャー 武器攻撃でBaseATK計算をMATK2でしてみる
・息吹を本鯖仕様風にHPとSPの回復タイマーを分けて座っていなくても動かなければタイマーが進むようにした
・阿修羅使用後にHPとSPが5分間自然回復しない本鯖使用風にした(csat_db.txtのupkeep_time2で調整可能)
・古いgccでskill_unit_timer_sub_onplace()あたりでコンパイルエラーになったのを修正

	(db/)
	cast_db.txt
	(map/)
	battle.c
		battle_calc_pet_weapon_attack() 変更
		battle_calc_mob_weapon_attack() 変更
		battle_calc_pc_weapon_attack() 変更
	map.h
	pc.c
		pc_authok() 変更
		pc_walk() 変更
		pc_spirit_heal() 削除
		pc_spirit_heal_hp() 追加
		pc_spirit_heal_sp() 追加
		pc_natural_heal_sub() 変更
	skill.c
		skill_additional_effect() 変更
		skill_castend_damage_id() 変更
		skill_status_change_start() 変更
		skill_unit_timer_sub_onplace() 修正

--------------------
//0978 by (凸)
・転生スキルを修正したり色々
	スナイパー ファルコンアサルト とりあえず飛ぶだけだと思ってください
	スナイパー シャープシューティング ダメージ増加だけど1体だけ
	クラウン・ジプシー アローバルカン ダメージ増加と9回攻撃
	ハイウィザード マジッククラッシャー エフェクトだけ
	
・アイテム交換で重量の計算が違っていたのを修正
	(doc/)
	client_packet.txt パケット長テーブル更新
	(map/)
	battle.c
		battle_calc_misc_attack() 変更
		battle_calc_pet_weapon_attack() 変更
		battle_calc_mob_weapon_attack() 変更
		battle_calc_pc_weapon_attack() 変更
	clif.c パケット長の定義を更新
	skill.c
		skill_castend_damage_id() 変更
	trade.c
		trade_tradeadditem() 修正
	
--------------------
//0977 by (凸)
・転生スキルを修正したり色々
	アサシンクロス メテオアサルト エフェクトが違う？
	ロードナイト プレッシャー 必中ダメージにしてみた
	ロードナイト オーラブレードの必中damage2が他でも適用されていたのを修正
	ロードナイト ゴスペル エフェクト出現位置の調整
	ハイプリースト アシャンプティオ 効果実装
	ハイプリースト メディテイティオ 効果実装
	ハイプリースト バジリカ SGみたいにMobが侵入しようとすると吹き飛ばされるようにした
	ホワイトスミス カートブースト 効果実装
	ホワイトスミス メルトダウン エフェクトと状態異常時間だけ(実際の状態変化は無し)
	ホワイトスミス クリエイトコイン 名前入りの金貨とか作れるだけ
	ストーカー リジェクトソード エフェクトと状態異常時間だけ(実際の状態変化は無し)
	クラウン・ジプシー マリオネットコントロール エフェクトと状態異常時間だけ(実際の状態変化は無し)
	プロフェッサー フォグウォール エフェクトと有効時間だけ
	スナイパー ウインドウォーク 速度上昇とQM、私を忘れないでがかかると解除されるようにした
	スナイパー トゥルーサイト QM、私を忘れないでで解除されるようにしてみた
・トゥルーサイトの綴り間違いを修正
・storage.cでコンパイル警告が出ないようにしたつもり

	(db/)
	cast_db.txt
	skill_db.txt
	skill_require_db.txt
	produce_db.txt
	(map/)
	battle.c
		battle_get_str() 修正
		battle_get_agi() 修正
		battle_get_vit() 修正
		battle_get_int() 修正
		battle_get_dex() 修正
		battle_get_luk() 修正
		battle_get_flee() 修正
		battle_get_hit() 修正
		battle_get_critical() 修正
		battle_get_baseatk() 修正
		battle_get_atk() 修正
		battle_get_atk2() 修正
		battle_get_def() 修正
		battle_get_def2() 修正
		battle_get_speed() 修正
		battle_calc_damage() 修正
		battle_calc_pet_weapon_attack() 変更
		battle_calc_mob_weapon_attack() 変更
		battle_calc_pc_weapon_attack() 変更
	pc.c
		pc_calcstatus() 修正
	skill.c
		skill_get_unit_id() 修正
		skill_additional_effect() 修正
		skill_castend_nodamage_id() 修正
		skill_castend_pos2() 修正
		skill_unit_group() 修正
		skill_unit_onplace() 修正
		skill_unit_onout() 修正
		skill_castend_pos() 修正
		skill_check_condition() 修正
		skill_status_change_end() 修正
		skill_status_change_start() 修正
		skill_can_produce_mix() 修正
		skill_produce_mix() 修正
	skill.h 修正
	storage.c
		storage_comp_item() 修正
	storage.h 修正

--------------------
//0976 by (凸)
・転生スキルを修正したり色々
・準備だけして実装できてないスキルもあります
	ロードナイト オーラブレード 多分こんな感じ？
	ロードナイト パリイング 跳ね返すけど攻撃を1回止めるのは未実装
	ロードナイト コンセントレーション インデュア〜は良く分からないので放置
	ロードナイト スパイラルピアース 通常ダメージ増加と重量ダメージ増加と一応5回攻撃(なんか違う気がする)
	ロードナイト ヘッドクラッシュ ダメージ増加とステータス変更？
	ロードナイト ジョイントビート ダメージ増加とステータス変更？
	アサシンクロス アドバンスドカタール研究 たぶんこんな感じ？
	スナイパー トゥルーサイト たぶんこんな感じ？
	スナイパー ウィンドウォーク たぶんこんな感じ？でも速度上昇とかと競合した時の処理は未実装
	スパイダーウェッブ とりあえずアンクルスネアと同じような感じ＆回避率半減
	チャンピオン 狂気功 適当に増やしていたのをちゃんと増やすようにした
・出血状態と骨折状態の取り扱いがよくわかりませんっ！！

	(db/)
	cast_db.txt
	skill_db.txt
	skill_require_db.txt
	(doc/)
	db_ref.txt
	(map/)
	battle.c
		battle_get_str() 修正
		battle_get_agi() 修正
		battle_get_vit() 修正
		battle_get_int() 修正
		battle_get_dex() 修正
		battle_get_luk() 修正
		battle_get_flee() 修正
		battle_get_hit() 修正
		battle_get_critical() 修正
		battle_get_baseatk() 修正
		battle_get_atk() 修正
		battle_get_atk2() 修正
		battle_get_def() 修正
		battle_get_def2() 修正
		battle_get_speed() 修正
		battle_calc_damage() 修正
	clif.c
		clif_parse_WalkToXY() 修正
	mob.c
		mob_can_move() 修正
		mobskill_castend_pos() 修正
	pc.c
		pc_calcstatus() 修正
		pc_checkallowskill() 修正
	skill.c
		skill_get_unit_id() 修正
		skill_additional_effect() 修正
		skill_castend_nodamage_id() 修正
		skill_castend_pos2() 修正
		skill_unit_group() 修正
		skill_unit_onplace() 修正
		skill_unit_onout() 修正
		skill_castend_pos() 修正
		skill_check_condition() 修正
		skill_status_change_end() 修正
		skill_status_change_start() 修正
		skill_readdb() 修正
	skill.h 修正
--------------------
//0975 by Sin
・0973で実装されたスクリプトによるBaseLv, JobLvの変更時に、
　ステータスポイントやスキルポイントを取得できるように修正。
　※質問スレpart5 >>115 悩める人 さんのpc.cを参考にさせて頂きました。多謝。

	(map/)
	pc.c
		pc_setparam()
		case SP_BASELEVEL: 修正
		case SP_JOBLEVEL: 修正
--------------------
//0974 by latte
・グランドクロスを本鯖に基づき修正
	アンデッド悪魔強制暗闇付与
	反動ダメージ半減、モーションなし
	MOB(PC)が重なったときのHIT数
	%UP系武器カード効果なし
	属性相性二重計算
	MOBダメージ表示白

	後半4項目は設定可

・戦闘基本計算を本鯖に基づき微修正（DEXサイズ補正、弓最低ダメ、PCサイズ補正）

・完全回避
	スタン等で完全回避が発生しなかったのを修正
	AGIVITペナルティが完全回避の敵もカウントして計算されていたのを修正　設定可
		オートカウンターは未修正

・倉庫を閉じるとき、アイテムIDでソートするようにした

・kalenさんのプロ１執事NPCスクリプトを改造して
	商業防衛値、投資金額、宝箱の数を本鯖に準拠(商業値は1~100)
	全砦に設置
	
	(/script/npc)
	aldeg_cas01.txt ... prtg_cas05.txt 修正
	(/script/npc/gvg)
	aldeg_cas01.txt ... prtg_cas05.txt 追加
	tbox.txt 追加

	(/conf)
	battle_athena.conf
		6項目追加

	(/map)
	mob.c/mob.h
		mob_attack() 修正
		mob_counttargeted_sub(),mob_counttargeted() 修正
		mobskill_use() 修正（↑の引数だけ）
	pc.c/pc.h
		pc_counttargeted_sub(),pc_counttargeted() 修正
		pc_attack_timer() 修正
	pet.c
		pet_attack() 修正

	map.h
		pc_data, mob_data, map_data 変数１つ追加
		enum1つ追加
	map.c/map.h
		map_count_oncell() 追加 skill.cでよかったかも・・・

	skill.c	
		GX関連修正(skill_additional_effect(), skill_attack(), skill_castend_damage_id(), skill_unit_onplace())

	battle.c 修正
	battle.h 修正

	storage.c/storage.h
		storage_comp_item() 追加
		sortage_sortitem(), sortage_gsortitem() 追加
		storage_storageclose(), storage_guild_storageclose() 修正
--------------------
//0973 by 獅子o^.^o
・スクリプトのBASELEVEL,JOBLEVEL命令追加
	例: set BASELEVEL,1;
	例: set JOBLEVEL,1;
	(map/)
	pc.c
		pc_setparam()
		case SP_BASELEVEL: 項目追加
		case SP_JOBLEVEL: 項目追加
		
--------------------
//0972 by (凸)
・転生スキルをエフェクトだけいくつか追加したり
・状態変化はそのうち誰かが
	エフェクト(ステータス変化アイコン含む)のみ
		SC_AURABLADE:		/* オーラブレード */
		SC_PARRYING:		/* パリイング */
		SC_CONCENTRATION:	/* コンセントレーション */
		SC_TENSIONRELAX:	/* テンションリラックス */
		SC_BERSERK:		/* バーサーク */
		SC_ASSUMPTIO:		/*  */
		SC_TURESIGHT:		/* トゥルーサイト */
		SC_CARTBOOST:		/* カートブースト */
		SC_WINDWALK:		/* ウインドウォーク */

	(db/)
	cast_db.txt
	(map/)
	skill.h
	skill.c
		SkillStatusChangeTable[] 項目追加
		skill_castend_nodamage_id()  項目追加
		skill_status_change_end()  項目追加
		skill_status_change_start()  項目追加
		
--------------------
//0971 by (凸)
・atcommand.hに残っていたjobchange2とかの残骸を削除
・転生スキルをエフェクトだけいくつか追加したりチャンピオンはそれなりに追加したり
	エフェクトのみ
		ハイプリースト バジリカ(HP_BASILICA)
		ホワイトスミス カートブースト(WS_CARTBOOST)
		スナイパー トゥルーサイト(SN_SIGHT)
		ジプシー 月明りの泉に落ちる花びら(CG_MOONLIT)
		パラディン ゴスペル(PA_GOSPEL)
	追加ダメージ等なし
		ロードナイト ヘッドクラッシュ(LK_HEADCRUSH)
		ロードナイト ジョイントビート(LK_JOINTBEAT)
		ロードナイト スパイラルピアース(LK_SPIRALPIERCE)
		パラディン プレッシャー(PA_PRESSURE)
		パラディン サクリファイス(PA_SACRIFICE)
	それなり(コンボは繋がりますがディレイは適当、ダメージ追加はあるけどそれ以外の追加効果は無し)
		チャンピオン 猛虎硬派山(CH_PALMSTRIKE)
		チャンピオン 伏虎拳(CH_TIGERFIST)
		チャンピオン 連柱崩撃(CH_CHAINCRUSH)
		チャンピオン 狂気功(CH_SOULCOLLECT)

	(db/)
	cast_db.txt
	skill_db.txt
	skill_require_db.txt
	(map/)
	atcommand.h ゴミ削除
	battle.c
		battle_calc_pet_weapon_attack() 変更
		battle_calc_mob_weapon_attack() 変更
		battle_calc_pc_weapon_attack() 変更
	clif.c
		clif_parse_UseSkillToId() 変更
	skill.c
		skill_get_unit_id() 項目追加
		skill_attack() チャンピオンコンボ処理追加
		skill_castend_damage_id() 変更
		skill_castend_nodamage_id() 変更
		skill_castend_id() 変更
		skill_unitsetting() 変更
		skill_check_condition() 変更
		skill_use_id() 変更

--------------------
//0970 by (凸)
・ドレイクのウォーターボールが異常に痛い(121発食らう)のでLv5以上の場合は25発に制限
・シグナムクルシスの計算式を14+SkillLvから10+SkillLv*2変更
・ソースの気が向いたところに落書き
・DB関係をまとめて同梱

	(map/)
	battle.c コメント＿〆(。。)ｶｷｶｷ
	skill.c skill_status_change_start()
	(db/)
	cast_db.txt
	item_db.txt
	mob_skill_db.txt
	skill_db.txt
	skill_require_db.txt
	skill_tree.txt

--------------------
//0969 by ぴざまん

・白刃取り状態で片方が死亡した場合、片方の白刃取りが解除されない問題修正
・battle_athena.confに項目追加
　ペット・プレイヤー・モンスターの無属性通常攻撃を属性無しにするか否かを設定できます
　詳しくはconf_refを。
・＠コマンド@idsearch実装
　ロードしたitem_dbから検索語句にマッチするアイテムとIDを羅列するコマンドです
　例えば「@idsearch レイ」と入力した場合、ブレイドやレイドリックカード等が引っかかります
・アシッドテラーとデモンストレーション実装
　装備破壊は未実装です
・イドゥンの林檎の回復仕様を丸ごと変更。
	(map/)
	battle.c
	battle.h
		属性補正の修正やアシッドテラー・デモンストレーションのダメージ算出式追加等。
		battle_configに項目追加
	skill.c
		skill_idun_heal()追加。foreachinareaで処理するように変更
		アシッドテラーとデモンストレーションの処理追加。
	atcommand.c
	atcommand.h
		@idsearch追加。

--------------------
//0968 by 胡蝶蘭

・キャラクターIDが使いまわされないように修正
・キャラクター削除時、パーティー、ギルドを脱退するように修正
・アカウント削除時、キャラクターと倉庫を削除するように修正
・倉庫/ギルド倉庫削除時、倉庫内のペットを削除するように修正
	・注意：ログインしているアカウントを削除した場合の動作は不明

	(char/)
	char.c
		パケット2730の処理、char_delete()追加、削除処理修正など
	int_storage.c/int_party.c/int_guild.c/int_party.h/int_guild.h
		inter_party_leave(),inter_guild_leave()追加、
		inter_storage_delete(),inter_guild_storage_delete()修正など
	(login/)
	login.c
		parse_admin()をアカウント削除時にパケット2730を送るように修正

・athena-start stop で停止させた場合、データが保存されない問題を修正
	killで送るシグナルをSIGKILLからSIGTERMに変更。
	どうしてもSIGKILLを送りたい場合は athena-start kill を使ってください。
	
	athena-start
		stop修正、kill追加

--------------------
//0967 by Asong
・モンスターの残影を実装。
　通常モンスターはスキルによるフィルターがかからないので残像が出ません。
　ＰＣ型モンスターには残像が出ます。
・モンスタースキル使用対象を追加。
　around5〜around8はターゲットの周辺セルを対象にします。
　
　	(map)
　	mob.c
　		mobskill_use() 修正
　		mob_readskill() 修正
　	mob.h 修正
　	skill.c
　		skill_castend_pos2() 修正

--------------------
//0966 by (凸)
・サーバーsnapshot
・ディレクトリ構造を変更(common,login,char,mapは/src以下に移転)
　それに伴うMakefile等のパス書き換え
・npc_turtle.txtをnpc_town_alberta.txtに統合
・モンクのコンボに関するディレイを変更
・battle_config.enemy_criticalのデフォルトをnoに変更
・転生職等を無効にするenable_upper_classの追加
・@joblvup,@charjlvlでJobレベルが最高のときに負数を指定してもレベルを下げられなかった問題を修正

	(conf)
	battle_athena.conf 修正
	(doc)
	conf_ref.txt 修正
	(map)
	atcommand.c
		atcommand_joblevelup() 修正
		atcommand_character_joblevel() 修正
	battle.c
		battle_calc_attack() 修正
		battle_config_read() 修正
	battle.h 修正
	pc.c
		pc_calc_skilltree() 修正
		pc_calc_base_job() 修正
		pc_jobchange() 修正
		pc_readdb() 修正
	skill.c
		skill_attack() 修正
--------------------

//0965以前の変更点はReadmeを参照してください

--------------------

    Athena Dev. v2.1.1       Released: Middle July, 2003
    (c) 2003 Athena Project.
     http://project-yare.de/

1. Athena(アテナ)について
2. このリリースについて
3. 必要な物
4. 使い方
5. 現在の仕様
6. 祝辞
7. 免責事項
8. 募集
9. English


1. アテナについて
    アテナとは2003年1月半ばにでた0052.lzhをベースとして作られているエミュレータの一つです。
    基本的なライセンスはオリジナルがGPLの下に配布されている為、
    これに従いGPLの下配布を許可します。
    /*
        改良版を配布する場合は必ずこのREADMEを書き換えてください。
        何処を改良したのか報告(athena@project-yare.deまで)して貰えると助かります。
        バイナリのみの配布はGPL違反ですので"必ず"ソースも添付してください。
     */
    動作の確認は以下の通りのみ行っています。
    // ただし完璧に動く事を保証するものでありません
    対象CPU: Intel Pentium系   // PentiumII以上で確認.
        FreeBSD 4.8R, 4.6.2R
        Linux RedHat 7.3
        cygwin + gcc 3.2 20020927 (prerelease)
    開発元URL: http://project-yare.de/


2. このリリースについて
    今回のリリースは前回(V2.1)同様開発版のリリースのみです。
    2.1に比べ下記の点が修正されています。
        mapのデフォルト設定が韓国data.grfのみ正常に動作するようになっていた点
        common/timer.cやmap/script.cの幾つかのバグ

    迅速にUpdateを強く推奨するものではありませんが各自の判断で行って下さい。


3. 必要な物
    data.grf      //sdata.grfは必要に応じて
    account.txt   //存在しない場合athena.shが自動生成します
    conf/*.cnf    //Map用とChar用の二種類あります
    conf/npc*.txt //npc設定用ファイルです。複数のファイルに分けることが可能です。
    db/*.txt      //アイテム、job情報など


4. 使い方
    > tar xvfz athena-d?.?.tar.gz
    > cd athena-d?.?.tar.gz
    > make
    > vi conf/char_athena.cnf       //IP(127.0.0.1)の部分を環境に合わせて変更してください
    > vi conf/map_athena.cnf        //同上、またmap設定などは、このファイルで行います。
    > ./athena.sh
    上記を行えば"たぶん"起動します。

    補足:
    conf/npc_sampleJ.txtにはスクリプトの書き方について色々な説明が記載されています。
    もし、独自のMap設定を行ってみたい人や、スクリプトを弄りたい方は参考にしてください。
    ただし、開発中のためスクリプトの仕様が変更される可能性が高いです。
    command.txtには実装済みの特殊コマンドについての説明を記載しています。


5. 現在の仕様
    本鯖と比べておかしい(例えばプバが歩く、ポリンがアイテムを拾わないなど)点は、
    全て現在開発中に因るものです。
    現状としてキャラクタ系及びモンスター系のバグ報告は無視される可能性が高いです。

    バグ報告について必ず発生条件をお書き下さい。
    下にある報告用テンプレートを使って報告して頂くと助かります。
    報告先はエミュ板の開発スレにでも。
    ---- Athena v 2.0 (stable or develop) ----
    【gcc ver】gcc -vを実行時に表示される内容
    【動作システム】FreeBSD, Linux(ディストリビュージョンも), cygwinなど
    【発生内容】mapが落ちてしまった時の表示されていたデバッグ情報など具体的に書いてください。
    【操作内容】具体的にどんな操作を行ったかを書いてください。
    ------------------ END -------------------
    理想はテンプレに加えてmap.coreなどcoreファイルをUploaderにアップして頂くことですが
    問題のMapだけの状態にしcoreの吐く容量に注意してください。
    /*
        確認した限りでは324個ほどmapデータを読み込ませると、
         40MB近いcoreファイルを吐き出します @FreeBSD
         cygwinの場合はstackdumpというファイルになるそうです。
        しかし、coreファイルなどをgzip圧縮などすれば大幅に小さくなります。
         大凡30MBのcoreファイルが2.9MBほどになるようです。
        ですので、もしアップロードする場合はgzip圧縮など各自行ってください。
     */

    今回のリリースだけでなくHISTORYを作成すると大量に記述が必要な為省略しています。
    // 多い日だと本当に結構ありますので‥‥。


6. 祝辞
    今回このAthena開発版を出すに当たって感謝したい方々(順番不同)
        Lemming氏 (Project YARE)
        0052氏 (Uploader)
        35氏 (エミュ開発スレ)
        Johan Lindh氏(Author of memwatch)
        YARE forumのNPC情報を作成した方々
        weiss研究会BBSの様々な情報ファイルを作成した方々
        最後に、.coreファイル達


7. 免責事項
    Athena Projectは一切Athenaの動作に関する保証等は行いません。
    つまり、Athenaは無保証です。
    athena@project-yare.deに動作・操作等に関する質問などを送られても一切お答えできません。
    又Athenaを用いたことにより生じた被害・問題等の責任は一切Athena Projectは負いません。


8. 募集
    athenaの開発に参加したい//興味があるという方ご連絡下さい。
    我々は貴方の参加をお待ちしています。
    // 最新版が欲しいだけで何ら協力して頂けないという方はお断りです;-)
    [募集要項: プログラマ(2-3人)]
        年齢: 不問
        性別: 不問
        言語: 日本語が理解可能
        内容: C言語もしくはC++による開発。(特にネットワークやDBの経験が有る方大募集!)
    [募集要項: 翻訳(?人)]
        年齢: 不問
        性別: 不問
        言語: 日本語、英語が理解可能
        内容: 仏蘭西語、独逸語、西班牙語、伊太利亜語、泰(タイ)語、朝鮮語、中国語へ文献、サイトなどの翻訳
    連絡先: athena@project-yare.de 雑務担当まで。


9. English
     This release is just fixed some bugs in timer.c, script.c and map_athena1.conf.


(c) 2003 Athena Project.
